! -----------------------------------------------------------------------
! Dataflex Language
! -----------------------------------------------------------------------


"Name"    = Dataflex
"Version" = 1.0
"Author"  = Sergey V. Natarov
"About"   = DataFlex 3.2 is an advanced object-oriented 4GL designed for developing database applications.

"Case Sensitive" = False
"Start Symbol"   = <Statements>

Comment Line  = '//'

!
! ============== Source lines =============
!

{WS} = {Whitespace} - {CR} - {LF}
Whitespace = {WS}+
NewLine = {CR}{LF} | {LF}


!
! ============== Constants (Integer, Numeric, Boolean, String) =============
!

CI = {Digit}+
CN = {Digit}*"."{Digit}+
CB = true | false
{String Ch} = {Printable} - ["]
CS = '"'{String Ch}*'"'
CS1 = ['']{String Ch}*['']


!
! ============== Identifiers =============
!

<CONSTANTS> ::= CI
              | CB
              | CS
              | CS1
              | CN


<Const List> ::= <CONSTANTS> ',' <Const List>
               | <CONSTANTS>


{Id Head}        = {Letter} + [_]
{Id Tail}        = {Id Head} + {Digit}

{Id Ch Standard} = {Alphanumeric} + [_]
{Id Ch Extended} = {Printable} - ['{'] - ['}'] - ['['] - [']'] - ['@']

Id             = {Id Head}{Id Tail}*

<Id List>    ::= Id ' ' <Id List>
               | Id


<Statements> ::= <Statement> <Statements>
               |

<Statement>  ::= <Var Declare> NewLine
               | <Procedure> NewLine
               | <Function> NewLine
               | <Class> NewLine
               | <Object> NewLine
               | NewLine

!               | <Class Declare> NewLine
!               | <Object Declare> NewLine


!============================================== Variable Declaration

<Class>     ::= Class <Name> <ObjClsSuff> <Name> NewLine <Statements> End_Class

<Object>    ::= Object <Name> <ObjClsSuff> <Name> NewLine <Statements> End_Object

<Procedure> ::= Procedure <Name> <Parameters> NewLine End_Procedure

<Function>  ::= Function <Name> <Func Scope> <Parameters> returns <Type Base> NewLine End_Function

<Func Scope>   ::= Global
                 | for <Name>
                 |

<Name>         ::= Id

<ObjClsSuff>   ::= is a
                 | is an



<Parameters>    ::= <Var Declare>
                  |

<Var Declare> ::= <Type> <Id List>

<Type>        ::= <VarScope> <Type Base>

<VarScope>    ::= Local
                |

<Type Base>   ::= Integer
                | Number
                | String
                | Boolean
                | Handle
                | Date
                | Pointer

